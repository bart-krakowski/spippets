/*!
 * vimeo-player v1.0.0
 * (c) 2019-2019 Tonik <hello@tonik.pl> (https://tonik.pl/)
 * Released under the MIT License.
 *
 * @author Tonik (https://tonik.pl)
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.Glide={})}(this,function(e){"use strict";var t=document.createElement("script");function p(e,t){e.videoOverlay.classList.remove(t.overlay),e.playBtn.classList.remove(t.playBtn)}e.default=function(){var u=document.querySelectorAll("[data-vimeo-player]");t.src="https://player.vimeo.com/api/player.js";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e),window.addEventListener("load",function(){for(var e=function(e){var t=u[e],n={playBtn:t.querySelector('[data-ref="vimeo-player[play-button]"]'),videoOverlay:t.querySelector('[data-ref="vimeo-player[overlay]"]'),videoFrame:t.querySelector('[data-ref="vimeo-player[frame]"]')},a=Math.random().toString(36).substring(5);t.id=a;var o=new Vimeo.Player(n.videoFrame),r="";for(var i in n)null===n[i]&&(r="[Vimeo Player] \n Missing element: "+i+' (component id: "'+a+'")');if(!r){var l={overlay:n.videoOverlay.getAttribute("data-active-class"),playBtn:n.playBtn.getAttribute("data-active-class")},s=n.videoFrame.src.match(/(http|https)?:\/\/(www\.)?(player.)?vimeo.com\/(?:video\/)(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|)(\d+)(?:|\/\?)*/);if(s&&8===s[5].length){var d="https://vimeo.com/api/oembed.json?url=https%3A//vimeo.com/"+s[5],c={postId:1};new Promise(function(e,t){var n="?"+Object.entries(c).map(function(e){return e[0]+"="+e[1]}).join("&"),a=new XMLHttpRequest;a.open("GET",d+n),a.onload=function(){200<=a.status&&a.status<400?e(JSON.parse(a.responseText)):e(a.responseText)},a.onerror=function(){return t(a.statusText)},a.send()}).then(function(e){n.videoOverlay.style.backgroundImage="url("+e.thumbnail_url+")"})}n.playBtn.addEventListener("click",function(e){e.preventDefault(),n.videoOverlay.classList.add(l.overlay),n.playBtn.classList.add(l.playBtn),o.play()}),o.on("pause",function(){p(n,l)}),o.on("ended",function(){p(n,l)})}},t=0;t<u.length;t++)e(t)})},Object.defineProperty(e,"__esModule",{value:!0})});
